Marble Track Simulator body { display:flex; flex-direction:column; align-items:center; margin:0; font-family:sans-serif; background:#f0f0f0; } canvas { border:1px solid #333; background:#fff; margin-top:20px; } button { margin:5px; padding:10px 15px; font-size:16px; } 
Marble Track Simulator
Start Reset const { Engine, Render, Runner, Bodies, Composite } = Matter; const canvas = document.getElementById('trackCanvas'); const engine = Engine.create(); const world = engine.world; const render = Render.create({ canvas: canvas, engine: engine, options: { width: 800, height: 600, wireframes: false, background: '#f0f0f0' } }); Render.run(render); const runner = Runner.create(); Runner.run(runner, engine); let drawing = false; let trackPoints = []; let trackBodies = []; canvas.addEventListener('mousedown', e => { drawing = true; trackPoints.push({x:e.offsetX, y:e.offsetY}); }); canvas.addEventListener('mousemove', e => { if(!drawing) return; trackPoints.push({x:e.offsetX, y:e.offsetY}); redrawTrack(); }); canvas.addEventListener('mouseup', e => { drawing = false; }); function redrawTrack(){ const ctx = canvas.getContext('2d'); ctx.clearRect(0,0,canvas.width,canvas.height); ctx.beginPath(); trackPoints.forEach((p,i)=>{ i===0?ctx.moveTo(p.x,p.y):ctx.lineTo(p.x,p.y); }); ctx.strokeStyle='blue'; ctx.lineWidth=4; ctx.stroke(); } function createTrackBodies(){ for(let i=0;i<trackPoints.length-1;i++){ const p1 = trackPoints[i]; const p2 = trackPoints[i+1]; const length = Math.hypot(p2.x-p1.x,p2.y-p1.y); const angle = Math.atan2(p2.y-p1.y,p2.x-p1.x); const body = Bodies.rectangle((p1.x+p2.x)/2,(p1.y+p2.y)/2,length,5,{ isStatic:true, angle:angle, render:{fillStyle:'blue'} }); trackBodies.push(body); Composite.add(world, body); } } document.getElementById('startBtn').addEventListener('click',()=>{ createTrackBodies(); const marble = Bodies.circle(trackPoints[0].x, trackPoints[0].y-20, 10, { restitution:0.5, render:{fillStyle:'red'} }); Composite.add(world, marble); }); document.getElementById('resetBtn').addEventListener('click',()=>{ trackPoints=[]; trackBodies.forEach(b=>Composite.remove(world,b)); trackBodies=[]; Composite.allBodies(world).filter(b=>!b.isStatic).forEach(b=>Composite.remove(world,b)); canvas.getContext('2d').clearRect(0,0,canvas.width,canvas.height); });